# Supabase Storage Setup Guide

## ЁЯЪи р╕Ыр╕▒р╕Нр╕лр╕▓: р╕гр╕╣р╕Ыр╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Ы Supabase Storage

р╕гр╕░р╕Ър╕Ър╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ы profile р╣Гр╕Кр╣Й base64 fallback р╣Ар╕Юр╕гр╕▓р╕░ Supabase Storage buckets р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╕Цр╕╣р╕Бр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓

## тЬЕ р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В

### 1. р╣Др╕Ыр╕Чр╕╡р╣И Supabase Dashboard
- р╣Ар╕Ыр╕┤р╕Ф https://supabase.com/dashboard
- р╣Ар╕ер╕╖р╕нр╕Бр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Вр╕нр╕Зр╕Др╕╕р╕У
- р╣Др╕Ыр╕Чр╕╡р╣И **SQL Editor**

### 2. р╕гр╕▒р╕Щ SQL Script
- Copy р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕Ир╕▓р╕Бр╣Др╕Яр╕ер╣М `supabase-storage-setup.sql`
- Paste р╣Гр╕Щ SQL Editor
- р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б **"Run"**

### 3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М
- р╣Др╕Ыр╕Чр╕╡р╣И **Storage > Buckets**
- р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ buckets р╣Гр╕лр╕бр╣И:
  - `business-cards`
  - `avatars` 
  - `logos`

### 4. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
- р╕Бр╕ер╕▒р╕Ър╣Др╕Ыр╕лр╕Щр╣Йр╕▓ Settings
- р╕ер╕нр╕Зр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╣Гр╕лр╕бр╣И
- р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ "Upload successful to Supabase Storage" р╣Гр╕Щ console

## ЁЯУЛ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣И Script р╕Ир╕░р╕Чр╕│

### р╕кр╕гр╣Йр╕▓р╕З Storage Buckets:
- **business-cards**: р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕╣р╕Ы profile р╣Бр╕ер╕░ business card
- **avatars**: р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕╣р╕Ы profile р╣Вр╕Фр╕вр╣Ар╕Йр╕Юр╕▓р╕░
- **logos**: р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕╣р╕Ыр╣Вр╕ер╣Вр╕Бр╣Йр╕Ър╕гр╕┤р╕йр╕▒р╕Ч

### р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Policies:
- р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕╡р╣Ир╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╣Бр╕ер╣Йр╕зр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Фр╣Й
- р╕Чр╕╕р╕Бр╕Др╕Щр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Фр╕╣р╕гр╕╣р╕Ыр╣Др╕Фр╣Й (public access)
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╣Др╕Яр╕ер╣М: JPEG, PNG, GIF, WebP
- р╕Вр╕Щр╕▓р╕Фр╕кр╕╣р╕Зр╕кр╕╕р╕Ф: 50MB

## ЁЯФз р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б

р╕лр╕▓р╕Бр╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ р╣Гр╕лр╣Йр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:

1. **Environment Variables**:
   ```env
   NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
   ```

2. **RLS Policies**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Row Level Security р╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

3. **Authentication**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╣Бр╕ер╣Йр╕з

## ЁЯУЮ р╕лр╕▓р╕Бр╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓

1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console logs
2. р╕Фр╕╣ Supabase Dashboard > Logs
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network tab р╣Гр╕Щ Browser DevTools

---

**р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕**: р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕гр╕▒р╕Щ script р╣Бр╕ер╣Йр╕з р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╣Др╕Ы Supabase Storage р╣Бр╕Чр╕Щр╕Чр╕╡р╣Ир╕Ир╕░р╣Гр╕Кр╣Й base64 fallback
